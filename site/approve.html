<!DOCTYPE html>
<html lang="en">
<head><meta charset="UTF-8"><title>Approve Login</title></head>
<body>
<h2>Approve Login</h2>
<script>
  const urlParams = new URLSearchParams(window.location.search);
  const email = urlParams.get('user');
  const device = urlParams.get('device');

  fetch('/api/approve', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ email: email, device: device })
  }).then(res => res.json()).then(data => {
    alert('Login approved! You can now log in.');
    window.location.href = 'login.html';
  }).catch(() => {
    alert('Error approving login.');
  });
</script>
</body>
</html>